<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TechMart — Trang chủ</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#0f1a33;
      --card2:#0c1730;
      --text:#e8eefc;
      --muted:#a6b3d6;
      --brand:#4f7cff;
      --brand2:#6ee7ff;
      --line:rgba(255,255,255,.10);
      --shadow: 0 14px 40px rgba(0,0,0,.35);
      --radius:18px;
      --radius2:14px;
      --max:1100px;
      --pad:18px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      background: radial-gradient(1200px 600px at 10% -10%, rgba(79,124,255,.25), transparent 55%),
                  radial-gradient(900px 500px at 90% 0%, rgba(110,231,255,.16), transparent 55%),
                  linear-gradient(180deg, #070b14, var(--bg));
      color:var(--text);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:var(--max); margin:0 auto; padding:0 16px;}

    /* NAV */
    .nav{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(11,18,32,.65);
      border-bottom: 1px solid var(--line);
    }
    .nav-inner{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
      gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:800;
      letter-spacing:.2px;
      user-select:none;
    }
    .logo{
      width:36px; height:36px;
      border-radius:12px;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      box-shadow: 0 10px 22px rgba(79,124,255,.25);
      display:grid; place-items:center;
      color:#071127;
      font-weight:900;
    }
    .brand span{opacity:.95}
    .nav-links{
      display:flex; align-items:center; gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .nav a.link{
      padding:10px 12px;
      border-radius:12px;
      color:var(--muted);
      border:1px solid transparent;
      transition:.2s ease;
      font-weight:600;
    }
    .nav a.link:hover{color:var(--text); border-color:var(--line); background: rgba(255,255,255,.03);}
    .nav a.link.active{color:var(--text); border-color:rgba(79,124,255,.35); background: rgba(79,124,255,.10);}
    .pill{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
    }
    .pill input{
      width:min(320px, 52vw);
      background:transparent;
      border:none; outline:none;
      color:var(--text);
      font-size:14px;
    }
    .pill .kbd{
      font-size:12px;
      color:var(--muted);
      border:1px solid var(--line);
      padding:2px 8px;
      border-radius:8px;
    }

    /* MAIN */
    main{flex:1;}
    .hero{
      padding:34px 0 18px;
    }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.3fr .9fr;
      gap:18px;
    }
    @media (max-width: 920px){
      .hero-grid{grid-template-columns:1fr;}
      .pill input{width: min(420px, 55vw);}
    }
    .hero-card{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px;
      overflow:hidden;
      position:relative;
    }
    .hero-card::before{
      content:"";
      position:absolute; inset:-1px;
      background: radial-gradient(500px 220px at 15% 15%, rgba(79,124,255,.24), transparent 55%),
                  radial-gradient(520px 240px at 90% 35%, rgba(110,231,255,.18), transparent 55%);
      pointer-events:none;
      opacity:.9;
    }
    .hero-card > *{position:relative}
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(79,124,255,.35);
      background: rgba(79,124,255,.10);
      color:#dbe6ff;
      font-weight:700;
      font-size:13px;
    }
    .badge .dot{
      width:8px;height:8px;border-radius:99px;
      background: var(--brand2);
      box-shadow: 0 0 0 6px rgba(110,231,255,.12);
    }
    h1{
      margin:12px 0 10px;
      font-size: clamp(26px, 4.2vw, 44px);
      line-height:1.08;
      letter-spacing:-.4px;
    }
    .lead{
      margin:0;
      color:var(--muted);
      font-size:16px;
      line-height:1.6;
      max-width: 64ch;
    }
    .cta-row{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top:16px;
      align-items:center;
    }
    .btn{
      border:none;
      cursor:pointer;
      border-radius: 14px;
      padding: 11px 14px;
      font-weight:800;
      transition: .18s ease;
      display:inline-flex;
      align-items:center;
      gap:10px;
      user-select:none;
    }
    .btn.primary{
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      color:#071127;
      box-shadow: 0 14px 26px rgba(79,124,255,.25);
    }
    .btn.primary:hover{transform: translateY(-1px);}
    .btn.ghost{
      background: rgba(255,255,255,.04);
      color:var(--text);
      border: 1px solid var(--line);
    }
    .btn.ghost:hover{background: rgba(255,255,255,.06);}
    .stat{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top:18px;
    }
    @media (max-width: 520px){
      .stat{grid-template-columns:1fr;}
    }
    .stat .box{
      padding:14px;
      border-radius: var(--radius2);
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
    }
    .stat .k{font-weight:900; font-size:18px;}
    .stat .t{color:var(--muted); font-size:13px; margin-top:4px;}

    /* Products */
    .section{
      padding: 10px 0 30px;
    }
    .section-head{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:12px; margin: 12px 0 12px;
    }
    .section h2{margin:0; font-size:20px; letter-spacing:-.2px;}
    .section p.sub{margin:6px 0 0; color:var(--muted); font-size:14px;}
    .filters{
      display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end;
    }
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      color:var(--muted);
      font-weight:700;
      font-size:13px;
      cursor:pointer;
      transition:.18s;
      user-select:none;
    }
    .chip:hover{color:var(--text); background: rgba(255,255,255,.05);}
    .chip.active{color:#dbe6ff; border-color: rgba(79,124,255,.4); background: rgba(79,124,255,.12);}
    .grid{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap:14px;
    }
    .card{
      grid-column: span 4;
      border-radius: var(--radius);
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      padding: 14px;
      box-shadow: 0 12px 28px rgba(0,0,0,.25);
      transition: .18s ease;
      overflow:hidden;
      position:relative;
      min-height: 220px;
    }
    .card:hover{transform: translateY(-2px); background: rgba(255,255,255,.04);}
    @media (max-width: 920px){ .card{grid-column: span 6;} }
    @media (max-width: 560px){ .card{grid-column: span 12;} }
    .thumb{
      height:110px;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(79,124,255,.35), rgba(110,231,255,.20));
      border: 1px solid rgba(255,255,255,.10);
      display:flex; align-items:flex-end; justify-content:space-between;
      padding:12px;
      position:relative;
      overflow:hidden;
    }
    .thumb::after{
      content:"";
      position:absolute; inset:-20px;
      background: radial-gradient(220px 160px at 20% 40%, rgba(255,255,255,.16), transparent 60%),
                  radial-gradient(260px 200px at 80% 10%, rgba(255,255,255,.10), transparent 60%);
      transform: rotate(8deg);
      opacity:.8;
    }
    .thumb > *{position:relative}
    .price{
      font-weight:900;
      background: rgba(7,17,39,.55);
      border: 1px solid rgba(255,255,255,.14);
      padding: 6px 10px;
      border-radius: 999px;
    }
    .tag{
      font-weight:800;
      font-size:12px;
      color:#dbe6ff;
      background: rgba(79,124,255,.18);
      border: 1px solid rgba(79,124,255,.35);
      padding: 5px 9px;
      border-radius: 999px;
    }
    .card h3{margin:12px 0 6px; font-size:16px;}
    .card p{margin:0; color:var(--muted); font-size:13px; line-height:1.5}
    .card .row{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      margin-top:12px;
    }
    .small{
      font-size:12px; color:var(--muted);
    }
    .toast{
      position:fixed;
      right:16px; bottom:16px;
      background: rgba(15,26,51,.92);
      border:1px solid var(--line);
      color:var(--text);
      padding:12px 14px;
      border-radius: 14px;
      box-shadow: var(--shadow);
      max-width: 360px;
      transform: translateY(30px);
      opacity:0;
      pointer-events:none;
      transition: .22s ease;
      z-index: 999;
    }
    .toast.show{
      transform: translateY(0);
      opacity:1;
    }

    /* FOOTER */
    footer{
      border-top:1px solid var(--line);
      background: rgba(11,18,32,.55);
      backdrop-filter: blur(10px);
    }
    .footer-inner{
      padding: 18px 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      color:var(--muted);
      font-size:13px;
    }
    .footer-links{display:flex; gap:10px; flex-wrap:wrap}
    .footer-links a{
      color:var(--muted);
      padding:6px 10px;
      border-radius:10px;
      border:1px solid transparent;
    }
    .footer-links a:hover{color:var(--text); border-color:var(--line); background: rgba(255,255,255,.03);}
  </style>
</head>

<body>
  <header class="nav">
    <div class="container nav-inner">
      <!-- Logo bên trái bấm về Home -->
      <a class="brand" href="./home.html" aria-label="Về trang chủ">
        <div class="logo">TM</div>
        <span>TechMart</span>
      </a>

      <div class="pill" role="search">
        <input id="searchInput" type="search" placeholder="Tìm sản phẩm… (Ctrl/⌘ + K)" autocomplete="off" />
        <span class="kbd">Ctrl K</span>
      </div>

      <nav class="nav-links" aria-label="Điều hướng">
        <a class="link active" href="./home.html">Home</a>
        <a class="link" href="./about.html">About</a>
        <a class="link" href="./404.html">404</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-grid">
        <div class="hero-card">
          <div class="badge"><span class="dot"></span> Deal hôm nay • Giảm đến 40%</div>
          <h1>Mua sắm nhanh gọn, trải nghiệm mượt mà cho một trang TMDT hiện đại.</h1>
          <p class="lead">
            Demo giao diện gồm navbar, footer, danh sách sản phẩm, filter, search, và nút “Thêm vào giỏ”
            (tạm lưu trong localStorage).
          </p>

          <div class="cta-row">
            <button class="btn primary" id="goProductsBtn" type="button">Xem sản phẩm</button>
            <button class="btn ghost" id="viewCartBtn" type="button">Xem giỏ (<span id="cartCount">0</span>)</button>
            <span class="small" id="hintText">Mẹo: nhấn Ctrl/⌘ + K để focus ô tìm kiếm</span>
          </div>

          <div class="stat" aria-label="Thống kê nhanh">
            <div class="box">
              <div class="k" id="statItems">0</div>
              <div class="t">Sản phẩm hiển thị</div>
            </div>
            <div class="box">
              <div class="k" id="statInCart">0</div>
              <div class="t">Trong giỏ hàng</div>
            </div>
            <div class="box">
              <div class="k">24/7</div>
              <div class="t">Hỗ trợ (demo)</div>
            </div>
          </div>
        </div>

        <div class="hero-card" style="background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));">
          <h2 style="margin:0 0 10px;">Giỏ hàng mini</h2>
          <p class="lead" style="font-size:14px; margin-bottom:14px;">
            Tối giản nhưng đủ dùng để test luồng UI. Có thể mở rộng sang cart/checkout sau.
          </p>

          <div id="miniCart" style="display:grid; gap:10px;"></div>

          <div style="margin-top:12px; display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
            <div class="small">Tổng tạm tính: <b id="miniTotal">0₫</b></div>
            <button class="btn ghost" id="clearCartBtn" type="button">Xoá giỏ</button>
          </div>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="section-head">
          <div>
            <h2>Sản phẩm nổi bật</h2>
            <p class="sub">Chọn danh mục hoặc tìm theo tên. (Dữ liệu mock)</p>
          </div>
          <div class="filters" aria-label="Bộ lọc danh mục">
            <button class="chip active" data-cat="all" type="button">Tất cả</button>
            <button class="chip" data-cat="phone" type="button">Điện thoại</button>
            <button class="chip" data-cat="laptop" type="button">Laptop</button>
            <button class="chip" data-cat="accessory" type="button">Phụ kiện</button>
          </div>
        </div>

        <div class="grid" id="productGrid" aria-label="Danh sách sản phẩm"></div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container footer-inner">
      <div>© <span id="year"></span> TechMart • Demo UI TMDT</div>
      <div class="footer-links">
        <a href="./home.html">Home</a>
        <a href="./about.html">About</a>
        <a href="./404.html">404</a>
      </div>
    </div>
  </footer>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // ====== Mock data ======
    const products = [
      { id: "p1", name: "Điện thoại Nova X", cat: "phone", price: 8990000, tag: "Hot" },
      { id: "p2", name: "Điện thoại PixelPro S", cat: "phone", price: 12990000, tag: "New" },
      { id: "p3", name: "Laptop AirLite 13", cat: "laptop", price: 18990000, tag: "Best" },
      { id: "p4", name: "Laptop WorkMate 15", cat: "laptop", price: 20990000, tag: "Pro" },
      { id: "p5", name: "Tai nghe CloudBuds", cat: "accessory", price: 990000, tag: "Sale" },
      { id: "p6", name: "Sạc nhanh 65W", cat: "accessory", price: 490000, tag: "Hot" },
    ];

    // ====== Helpers ======
    const VND = (n) => n.toLocaleString("vi-VN") + "₫";
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => document.querySelectorAll(sel);

    const CART_KEY = "tm_cart_v1";

    function loadCart(){
      try { return JSON.parse(localStorage.getItem(CART_KEY) || "[]"); }
      catch { return []; }
    }
    function saveCart(items){
      localStorage.setItem(CART_KEY, JSON.stringify(items));
      updateCartUI();
    }
    function addToCart(productId){
      const cart = loadCart();
      const found = cart.find(x => x.id === productId);
      if(found) found.qty += 1;
      else cart.push({ id: productId, qty: 1 });

      saveCart(cart);
      const p = products.find(x => x.id === productId);
      toast(`Đã thêm “${p?.name || "Sản phẩm"}” vào giỏ`);
    }
    function clearCart(){
      saveCart([]);
      toast("Đã xoá giỏ hàng");
    }
    function cartCount(){
      return loadCart().reduce((s, x) => s + x.qty, 0);
    }
    function cartTotal(){
      const cart = loadCart();
      return cart.reduce((sum, item) => {
        const p = products.find(x => x.id === item.id);
        return sum + (p ? p.price * item.qty : 0);
      }, 0);
    }

    // ====== Render ======
    let state = { cat: "all", q: "" };

    function renderProducts(){
      const grid = $("#productGrid");
      const q = state.q.trim().toLowerCase();

      const filtered = products.filter(p => {
        const okCat = (state.cat === "all") || (p.cat === state.cat);
        const okQ = !q || p.name.toLowerCase().includes(q);
        return okCat && okQ;
      });

      $("#statItems").textContent = filtered.length;

      grid.innerHTML = filtered.map(p => `
        <article class="card" data-id="${p.id}">
          <div class="thumb">
            <span class="tag">${p.tag}</span>
            <span class="price">${VND(p.price)}</span>
          </div>
          <h3>${p.name}</h3>
          <p>Danh mục: <b style="color:#dbe6ff">${labelCat(p.cat)}</b> • Giao nhanh (demo)</p>
          <div class="row">
            <span class="small">Mã: ${p.id.toUpperCase()}</span>
            <button class="btn ghost" data-add="${p.id}" type="button">Thêm vào giỏ</button>
          </div>
        </article>
      `).join("");

      // bind add buttons
      grid.querySelectorAll("[data-add]").forEach(btn => {
        btn.addEventListener("click", () => addToCart(btn.dataset.add));
      });
    }

    function labelCat(cat){
      if(cat === "phone") return "Điện thoại";
      if(cat === "laptop") return "Laptop";
      if(cat === "accessory") return "Phụ kiện";
      return "Tất cả";
    }

    function updateCartUI(){
      const count = cartCount();
      $("#cartCount").textContent = count;
      $("#statInCart").textContent = count;

      // mini cart
      const mini = $("#miniCart");
      const cart = loadCart();

      if(cart.length === 0){
        mini.innerHTML = `
          <div style="padding:12px; border:1px dashed rgba(255,255,255,.18); border-radius:14px; color:var(--muted);">
            Giỏ hàng đang trống. Hãy thử thêm vài món nhé.
          </div>
        `;
      }else{
        mini.innerHTML = cart.map(item => {
          const p = products.find(x => x.id === item.id);
          if(!p) return "";
          return `
            <div style="display:flex; justify-content:space-between; gap:10px; align-items:center; padding:12px; border:1px solid var(--line); border-radius:14px; background: rgba(255,255,255,.03);">
              <div>
                <div style="font-weight:800;">${p.name}</div>
                <div class="small">${item.qty} × ${VND(p.price)}</div>
              </div>
              <div style="font-weight:900;">${VND(p.price * item.qty)}</div>
            </div>
          `;
        }).join("");
      }

      $("#miniTotal").textContent = VND(cartTotal());
    }

    // ====== Toast ======
    let toastTimer = null;
    function toast(msg){
      const el = $("#toast");
      el.textContent = msg;
      el.classList.add("show");
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => el.classList.remove("show"), 2200);
    }

    // ====== Events ======
    $$(".chip").forEach(chip => {
      chip.addEventListener("click", () => {
        $$(".chip").forEach(x => x.classList.remove("active"));
        chip.classList.add("active");
        state.cat = chip.dataset.cat;
        renderProducts();
      });
    });

    $("#searchInput").addEventListener("input", (e) => {
      state.q = e.target.value || "";
      renderProducts();
    });

    $("#goProductsBtn").addEventListener("click", () => {
      document.querySelector(".section").scrollIntoView({ behavior: "smooth" });
    });

    $("#viewCartBtn").addEventListener("click", () => {
      toast("Demo: giỏ mini nằm ở khối bên phải. Bạn có thể mở rộng sang trang cart sau.");
      document.querySelector(".hero-grid").scrollIntoView({ behavior: "smooth" });
    });

    $("#clearCartBtn").addEventListener("click", clearCart);

    // Ctrl/⌘ + K focus search
    document.addEventListener("keydown", (e) => {
      const isMac = navigator.platform.toLowerCase().includes("mac");
      const mod = isMac ? e.metaKey : e.ctrlKey;
      if(mod && e.key.toLowerCase() === "k"){
        e.preventDefault();
        $("#searchInput").focus();
      }
    });

    // init
    $("#year").textContent = new Date().getFullYear();
    renderProducts();
    updateCartUI();
  </script>
</body>
</html>
